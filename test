2025-05-24 01:39:57,303 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 01:39:57,303 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (312576)
2025-05-24 01:39:57,303 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 01:39:57,306 - gunicorn.error - INFO - Booting worker with pid: 312577
2025-05-24 01:39:57,319 - gunicorn.error - INFO - Booting worker with pid: 312578
2025-05-24 01:39:57,333 - gunicorn.error - INFO - Booting worker with pid: 312579
2025-05-24 01:39:57,402 - gunicorn.error - INFO - Booting worker with pid: 312580
2025-05-24 01:39:57,446 - gunicorn.error - INFO - Booting worker with pid: 312581
2025-05-24 01:39:57,498 - gunicorn.error - INFO - Booting worker with pid: 312584
2025-05-24 01:39:57,585 - gunicorn.error - INFO - Booting worker with pid: 312592
2025-05-24 01:39:57,605 - gunicorn.error - INFO - Booting worker with pid: 312594
2025-05-24 01:39:57,703 - gunicorn.error - INFO - Booting worker with pid: 312596
2025-05-24 01:39:57,798 - gunicorn.error - INFO - Booting worker with pid: 312597
2025-05-24 01:40:00,018 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,041 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,076 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,166 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,201 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,311 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,345 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,363 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,504 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,542 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:40:00,749 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:00,765 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:00,838 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:00,885 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:00,886 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:00,898 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:00,898 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:00,901 - uvicorn.error - INFO - Started server process [312578]
2025-05-24 01:40:00,902 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:00,914 - uvicorn.error - INFO - Started server process [312579]
2025-05-24 01:40:00,914 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:00,930 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:00,939 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:00,950 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:00,959 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,007 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,007 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,023 - uvicorn.error - INFO - Started server process [312577]
2025-05-24 01:40:01,023 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,040 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,060 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,088 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,088 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,090 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,090 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,090 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,092 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,092 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,093 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,094 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,096 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,099 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,099 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,099 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,107 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,107 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,107 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,108 - uvicorn.error - INFO - Started server process [312580]
2025-05-24 01:40:01,109 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,129 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,129 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,145 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,145 - uvicorn.error - INFO - Started server process [312581]
2025-05-24 01:40:01,146 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,167 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,167 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,177 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,183 - uvicorn.error - INFO - Started server process [312594]
2025-05-24 01:40:01,183 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,193 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,194 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,194 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,203 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,204 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,204 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,220 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,238 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,238 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,246 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,253 - uvicorn.error - INFO - Started server process [312592]
2025-05-24 01:40:01,254 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,254 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,254 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,270 - uvicorn.error - INFO - Started server process [312584]
2025-05-24 01:40:01,270 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,278 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,281 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,282 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,289 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,293 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,293 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,293 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,293 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,294 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,294 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,304 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,304 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,304 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,305 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,313 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:40:01,360 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,363 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,364 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,374 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,374 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,374 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,397 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,397 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,413 - uvicorn.error - INFO - Started server process [312596]
2025-05-24 01:40:01,413 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,423 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,424 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,424 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,431 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,431 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,431 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,433 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,434 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,434 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,444 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,444 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,444 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,448 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,520 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:40:01,520 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:40:01,536 - uvicorn.error - INFO - Started server process [312597]
2025-05-24 01:40:01,536 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:40:01,572 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:40:01,574 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,576 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,576 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,582 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,582 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,582 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:01,699 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:40:01,700 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:40:01,700 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:40:01,706 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:40:01,706 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:40:01,706 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-1b09fd8a-748b-4d59-ae0d-e28d7fb450c8
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-659579d0-f583-42e9-a7ad-106c9c1d0201
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-f24bd3fe-f76c-4441-bdd8-9b1caea38ab9
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-4f79262c-b98d-4408-a31d-46bee5ab457a
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-09cb9e17-ca84-4710-8de5-68bae3acd209
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-6d23ed61-bcd6-4655-ae6c-4c032cc9b847
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-f4bf03c8-3a7d-4c7b-91c3-2fb53e6396be
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-b89fa263-4f54-4b67-bcbb-6ec15d0ceb7a
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-965bb230-a5dc-4d2f-a240-433048616186
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 319) with member_id aiokafka-0.12.0-ced64e48-e107-4a71-aa49-4ba347f7295f
2025-05-24 01:40:04,121 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,125 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 319
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:40:04,139 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:41:21,479 - uvicorn.access - INFO - 127.0.0.1:43256 - "OPTIONS /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:41:21,485 - uvicorn.access - INFO - 127.0.0.1:43268 - "OPTIONS /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:41:21,568 - uvicorn.access - INFO - 127.0.0.1:43256 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:41:21,654 - uvicorn.access - INFO - 127.0.0.1:43256 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:41:21,696 - uvicorn.access - INFO - 127.0.0.1:43268 - "OPTIONS /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:41:21,794 - uvicorn.access - INFO - 127.0.0.1:43280 - "OPTIONS /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:21,798 - uvicorn.access - INFO - 127.0.0.1:43290 - "OPTIONS /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:21,798 - uvicorn.access - INFO - 127.0.0.1:43294 - "OPTIONS /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:21,801 - uvicorn.access - INFO - 127.0.0.1:43268 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:41:21,804 - uvicorn.access - INFO - 127.0.0.1:43300 - "OPTIONS /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:41:21,901 - uvicorn.access - INFO - 127.0.0.1:43280 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:21,902 - uvicorn.access - INFO - 127.0.0.1:43290 - "OPTIONS /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:41:21,910 - uvicorn.access - INFO - 127.0.0.1:43256 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:41:22,001 - uvicorn.access - INFO - 127.0.0.1:43268 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:22,009 - uvicorn.access - INFO - 127.0.0.1:43290 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:41:22,098 - uvicorn.access - INFO - 127.0.0.1:43268 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:41:22,100 - uvicorn.access - INFO - 127.0.0.1:43256 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:38,934 - uvicorn.access - INFO - 127.0.0.1:60504 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:41:39,032 - uvicorn.access - INFO - 127.0.0.1:60504 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:41:47,807 - uvicorn.access - INFO - 127.0.0.1:56244 - "OPTIONS /api/v1/config/tom1/tom1_28e17274-a996-4f6b-ac3b-83c00faca9cd HTTP/1.1" 200
2025-05-24 01:41:47,915 - uvicorn.access - INFO - 127.0.0.1:56244 - "PATCH /api/v1/config/tom1/tom1_28e17274-a996-4f6b-ac3b-83c00faca9cd HTTP/1.1" 200
2025-05-24 01:41:55,205 - uvicorn.access - INFO - 127.0.0.1:34596 - "OPTIONS /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 01:41:55,301 - uvicorn.access - INFO - 127.0.0.1:34596 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 01:41:55,405 - uvicorn.access - INFO - 127.0.0.1:34596 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:41:55,506 - uvicorn.access - INFO - 127.0.0.1:34598 - "OPTIONS /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 01:41:55,595 - uvicorn.access - INFO - 127.0.0.1:34598 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 01:41:55,684 - uvicorn.access - INFO - 127.0.0.1:34598 - "OPTIONS /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:41:55,790 - uvicorn.access - INFO - 127.0.0.1:34598 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:41:55,792 - app.core.logging - INFO - chat 'tom1_9470b3bb-322e-40a1-9dfa-90a44fee7148 uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 01:41:56,338 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 01:42:07,122 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,123 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,123 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,124 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,124 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,124 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,124 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,124 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,125 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,131 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,131 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:42:07,132 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,133 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,134 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,134 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,134 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,135 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,135 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,135 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,135 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,135 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,138 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,138 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,138 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,140 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:07,141 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:07,141 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-659579d0-f583-42e9-a7ad-106c9c1d0201
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-f24bd3fe-f76c-4441-bdd8-9b1caea38ab9
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-f4bf03c8-3a7d-4c7b-91c3-2fb53e6396be
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-4f79262c-b98d-4408-a31d-46bee5ab457a
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-6d23ed61-bcd6-4655-ae6c-4c032cc9b847
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-ced64e48-e107-4a71-aa49-4ba347f7295f
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-965bb230-a5dc-4d2f-a240-433048616186
2025-05-24 01:42:07,143 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:42:07,142 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-b89fa263-4f54-4b67-bcbb-6ec15d0ceb7a
2025-05-24 01:42:07,143 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 320) with member_id aiokafka-0.12.0-09cb9e17-ca84-4710-8de5-68bae3acd209
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 320
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:07,145 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:42:07,146 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:16,907 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 01:42:16,908 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 01:42:16,958 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 01:42:16,958 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 01:42:16,958 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 01:42:16,960 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:42:16,960 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:16,960 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:16,970 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:42:16,971 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 01:42:17,030 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 01:42:19,146 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,146 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:42:19,146 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,146 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,146 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,147 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:42:19,148 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,148 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:42:19,148 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,148 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-659579d0-f583-42e9-a7ad-106c9c1d0201
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-4f79262c-b98d-4408-a31d-46bee5ab457a
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-6d23ed61-bcd6-4655-ae6c-4c032cc9b847
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-f24bd3fe-f76c-4441-bdd8-9b1caea38ab9
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-ced64e48-e107-4a71-aa49-4ba347f7295f
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-09cb9e17-ca84-4710-8de5-68bae3acd209
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-b89fa263-4f54-4b67-bcbb-6ec15d0ceb7a
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-965bb230-a5dc-4d2f-a240-433048616186
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-f4bf03c8-3a7d-4c7b-91c3-2fb53e6396be
2025-05-24 01:42:19,150 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 321) with member_id aiokafka-0.12.0-1b6f6bcb-429a-4d7e-9b92-058065c00ed8
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 321
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,153 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:42:19,154 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:19,154 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:42:27,298 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 01:42:27,300 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:42:27,388 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:42:59,357 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:42:59,358 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:42:59,440 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:42:59,441 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:42:59,507 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:42:59,514 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:43:13,675 - gunicorn.error - INFO - Handling signal: int
2025-05-24 01:43:13,693 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,693 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,730 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,730 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,733 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,733 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,738 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,738 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,738 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,738 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,740 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,740 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,744 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,744 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,745 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,745 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,755 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,755 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,766 - uvicorn.error - INFO - Shutting down
2025-05-24 01:43:13,766 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:43:13,793 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,796 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,796 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,797 - uvicorn.error - INFO - Finished server process [312584]
2025-05-24 01:43:13,829 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,833 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,833 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,833 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,833 - uvicorn.error - INFO - Finished server process [312577]
2025-05-24 01:43:13,834 - gunicorn.error - ERROR - Worker (pid:312584) was sent SIGINT!
2025-05-24 01:43:13,837 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,837 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,837 - uvicorn.error - INFO - Finished server process [312592]
2025-05-24 01:43:13,838 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,838 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,841 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,841 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,842 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,842 - uvicorn.error - INFO - Finished server process [312596]
2025-05-24 01:43:13,842 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,842 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,842 - uvicorn.error - INFO - Finished server process [312594]
2025-05-24 01:43:13,844 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,845 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,848 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,848 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,848 - uvicorn.error - INFO - Finished server process [312580]
2025-05-24 01:43:13,849 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,849 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,849 - uvicorn.error - INFO - Finished server process [312581]
2025-05-24 01:43:13,851 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,851 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,852 - uvicorn.error - INFO - Finished server process [312597]
2025-05-24 01:43:13,855 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,858 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,859 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,859 - uvicorn.error - INFO - Finished server process [312578]
2025-05-24 01:43:13,866 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:43:13,870 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:43:13,870 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:43:13,870 - uvicorn.error - INFO - Finished server process [312579]
2025-05-24 01:43:13,883 - gunicorn.error - ERROR - Worker (pid:312592) was sent SIGINT!
2025-05-24 01:43:13,887 - gunicorn.error - ERROR - Worker (pid:312577) was sent SIGINT!
2025-05-24 01:43:13,887 - gunicorn.error - ERROR - Worker (pid:312594) was sent SIGINT!
2025-05-24 01:43:13,887 - gunicorn.error - ERROR - Worker (pid:312596) was sent SIGINT!
2025-05-24 01:43:13,893 - gunicorn.error - ERROR - Worker (pid:312580) was sent SIGINT!
2025-05-24 01:43:13,893 - gunicorn.error - ERROR - Worker (pid:312581) was sent SIGINT!
2025-05-24 01:43:13,902 - gunicorn.error - ERROR - Worker (pid:312578) was sent SIGINT!
2025-05-24 01:43:13,910 - gunicorn.error - ERROR - Worker (pid:312579) was sent SIGINT!
2025-05-24 01:43:13,926 - gunicorn.error - ERROR - Worker (pid:312597) was sent SIGINT!
2025-05-24 01:43:43,697 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 01:49:55,955 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 01:49:55,956 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (324626)
2025-05-24 01:49:55,956 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 01:49:55,961 - gunicorn.error - INFO - Booting worker with pid: 324627
2025-05-24 01:49:55,965 - gunicorn.error - INFO - Booting worker with pid: 324628
2025-05-24 01:49:56,001 - gunicorn.error - INFO - Booting worker with pid: 324629
2025-05-24 01:49:56,023 - gunicorn.error - INFO - Booting worker with pid: 324630
2025-05-24 01:49:56,104 - gunicorn.error - INFO - Booting worker with pid: 324640
2025-05-24 01:49:56,125 - gunicorn.error - INFO - Booting worker with pid: 324641
2025-05-24 01:49:56,224 - gunicorn.error - INFO - Booting worker with pid: 324642
2025-05-24 01:49:56,261 - gunicorn.error - INFO - Booting worker with pid: 324643
2025-05-24 01:49:56,264 - gunicorn.error - INFO - Booting worker with pid: 324644
2025-05-24 01:49:56,303 - gunicorn.error - INFO - Booting worker with pid: 324645
2025-05-24 01:49:58,701 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:58,782 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:58,856 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:58,869 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:58,931 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:58,995 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:59,016 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:49:59,439 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,512 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,596 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,605 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,622 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,622 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,639 - uvicorn.error - INFO - Started server process [324629]
2025-05-24 01:49:59,639 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,669 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,670 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,671 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,677 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,687 - uvicorn.error - INFO - Started server process [324628]
2025-05-24 01:49:59,687 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,722 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,739 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,756 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:49:59,788 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,788 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,795 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:49:59,796 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:49:59,797 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:49:59,797 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,797 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,803 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:49:59,803 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:49:59,803 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:49:59,804 - uvicorn.error - INFO - Started server process [324640]
2025-05-24 01:49:59,805 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,814 - uvicorn.error - INFO - Started server process [324641]
2025-05-24 01:49:59,814 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,830 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,830 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,840 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,846 - uvicorn.error - INFO - Started server process [324630]
2025-05-24 01:49:59,847 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,848 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,861 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:49:59,863 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:49:59,863 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:49:59,873 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:49:59,873 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:49:59,873 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:49:59,882 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,898 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,899 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,914 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:49:59,914 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:49:59,914 - uvicorn.error - INFO - Started server process [324627]
2025-05-24 01:49:59,915 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,930 - uvicorn.error - INFO - Started server process [324642]
2025-05-24 01:49:59,930 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:49:59,951 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,960 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:49:59,963 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:49:59,964 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:49:59,964 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:49:59,970 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:49:59,971 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:49:59,971 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:49:59,980 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:49:59,982 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:49:59,982 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:49:59,992 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:49:59,992 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:49:59,992 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:49:59,996 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:49:59,997 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:49:59,998 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:00,003 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:00,003 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:00,003 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:00,083 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:50:00,084 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:50:00,084 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:00,090 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:50:00,090 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:00,091 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:00,091 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:00,092 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:50:00,093 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:00,101 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:00,101 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:00,101 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:01,565 - uvicorn.access - INFO - 127.0.0.1:57412 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:50:01,701 - uvicorn.access - INFO - 127.0.0.1:57412 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:50:01,794 - uvicorn.access - INFO - 127.0.0.1:57436 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 01:50:01,806 - uvicorn.access - INFO - 127.0.0.1:57424 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:50:01,819 - uvicorn.access - INFO - 127.0.0.1:57412 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:50:01,906 - uvicorn.access - INFO - 127.0.0.1:57452 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:50:01,917 - uvicorn.access - INFO - 127.0.0.1:57436 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:50:01,994 - uvicorn.access - INFO - 127.0.0.1:57452 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:50:02,016 - uvicorn.access - INFO - 127.0.0.1:57412 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 323) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:50:02,806 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 323
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:02,809 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:50:04,529 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:50:04,597 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:50:04,700 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:50:04,700 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:50:04,716 - uvicorn.error - INFO - Started server process [324644]
2025-05-24 01:50:04,717 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:50:04,744 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:50:04,744 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:50:04,753 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:50:04,760 - uvicorn.error - INFO - Started server process [324643]
2025-05-24 01:50:04,760 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:50:04,795 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:50:04,866 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:50:04,867 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:50:04,868 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:04,874 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:04,874 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:04,874 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:04,911 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:50:04,912 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:50:04,912 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:04,917 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:04,918 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:04,918 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:05,811 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:50:05,812 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,812 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,812 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:05,813 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-ab3f440d-f65c-412d-96ba-d5deeebd7230
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-cfe73b31-4adc-4b74-927a-89acbdfe8692
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 324) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:50:05,814 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,816 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 324
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:05,817 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:09,082 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:50:09,814 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:50:09,943 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:50:09,943 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:50:09,958 - uvicorn.error - INFO - Started server process [324645]
2025-05-24 01:50:09,959 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:50:09,994 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:50:10,111 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:50:10,112 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:50:10,112 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:50:10,118 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:10,118 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:50:10,118 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,391 - uvicorn.access - INFO - 127.0.0.1:58938 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 01:50:11,513 - uvicorn.access - INFO - 127.0.0.1:58938 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:50:11,632 - uvicorn.access - INFO - 127.0.0.1:58944 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 01:50:11,744 - uvicorn.access - INFO - 127.0.0.1:58944 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:50:11,746 - app.core.logging - INFO - chat 'tom1_be0272f7-2dcf-4231-a4c9-6ad8fdb4e6b8 uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,818 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:11,819 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-cfe73b31-4adc-4b74-927a-89acbdfe8692
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-ab3f440d-f65c-412d-96ba-d5deeebd7230
2025-05-24 01:50:11,821 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:50:11,820 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 325) with member_id aiokafka-0.12.0-abfe0a73-48c3-4b04-8395-b294cd51712d
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 325
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,823 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:11,893 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 01:50:23,822 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,822 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,823 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,824 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,825 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,825 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,826 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:23,826 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:23,826 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-ab3f440d-f65c-412d-96ba-d5deeebd7230
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-abfe0a73-48c3-4b04-8395-b294cd51712d
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:50:23,827 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 326) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 326
2025-05-24 01:50:23,828 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:23,829 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:31,612 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 01:50:31,613 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 01:50:31,613 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 01:50:31,614 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 01:50:31,614 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 01:50:31,687 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:50:31,687 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:31,687 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:31,697 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:50:31,697 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 01:50:31,747 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 01:50:32,828 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,828 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,829 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,830 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,831 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:50:32,831 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-6efdfc36-a10b-4da5-b4dc-650a0570f036
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-abfe0a73-48c3-4b04-8395-b294cd51712d
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-ab3f440d-f65c-412d-96ba-d5deeebd7230
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 327) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:50:32,832 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:50:32,834 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,834 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,834 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 327
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:32,835 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:50:41,056 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 01:50:41,057 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:50:41,135 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:51:13,125 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:51:13,126 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 01:51:13,205 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:51:13,214 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:51:13,289 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:51:13,300 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 01:51:21,442 - uvicorn.access - INFO - 127.0.0.1:50222 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:51:21,463 - uvicorn.access - INFO - 127.0.0.1:50226 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:51:21,678 - uvicorn.access - INFO - 127.0.0.1:50226 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:51:21,773 - uvicorn.access - INFO - 127.0.0.1:50240 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:51:22,491 - uvicorn.access - INFO - 127.0.0.1:50240 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 01:51:22,599 - uvicorn.access - INFO - 127.0.0.1:50240 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 01:51:32,603 - uvicorn.access - INFO - 127.0.0.1:58292 - "PATCH /api/v1/config/tom1/tom1_eff4a97e-7fbd-4a56-81db-ad99167975b0 HTTP/1.1" 200
2025-05-24 01:51:38,469 - uvicorn.access - INFO - 127.0.0.1:58306 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 01:51:38,578 - uvicorn.access - INFO - 127.0.0.1:58306 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 01:51:38,691 - uvicorn.access - INFO - 127.0.0.1:58308 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 01:51:38,802 - uvicorn.access - INFO - 127.0.0.1:58308 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:51:38,804 - app.core.logging - INFO - chat 'tom1_fa3a58b0-d136-4107-88a0-b6bd630df1ba uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

All outputs in Markdown format, especially mathematical formulas in Latex format($formula$).'
2025-05-24 01:51:38,955 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,832 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,834 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,833 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,834 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,834 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:51:50,834 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,835 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-abfe0a73-48c3-4b04-8395-b294cd51712d
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:51:50,837 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-6efdfc36-a10b-4da5-b4dc-650a0570f036
2025-05-24 01:51:50,838 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 328) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:51:50,838 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 328
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,840 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,841 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,841 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:51:50,841 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:50,841 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,773 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 01:51:59,774 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 01:51:59,819 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 01:51:59,819 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 01:51:59,820 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 01:51:59,820 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:51:59,821 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,821 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,825 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:51:59,825 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 01:51:59,839 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,840 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,841 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,842 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,843 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-6902795d-94a7-47fb-9148-149ab0bb72b7
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-abfe0a73-48c3-4b04-8395-b294cd51712d
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-cc65edf0-a4c4-4ec6-b3ca-c8eeaad057c1
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-56dbfc17-eba1-4dbf-ad36-f11c1419cc0b
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-d8c2e02a-eb2e-4462-b6fb-762166c97278
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-560d966b-500c-4be6-89e6-9cde0d8d2022
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-0a2f1fad-cdc6-4081-8cbd-0b452342c1ba
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-6efdfc36-a10b-4da5-b4dc-650a0570f036
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-b5368277-685d-40bc-b927-202717fc8a87
2025-05-24 01:51:59,844 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,846 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,847 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,849 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 329) with member_id aiokafka-0.12.0-eedb3412-081e-42ab-b593-424f8e3d508c
2025-05-24 01:51:59,859 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 329
2025-05-24 01:51:59,865 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:51:59,874 - LiteLLM - INFO - 
LiteLLM completion() model= Qwen/Qwen2.5-VL-32B-Instruct; provider = openai
2025-05-24 01:52:02,589 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-24 01:52:02,591 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:52:02,594 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:52:34,497 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:52:34,499 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:52:34,501 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:52:34,502 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:54:22,694 - gunicorn.error - INFO - Handling signal: int
2025-05-24 01:54:22,720 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,720 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,725 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,727 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,731 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,731 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,738 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,738 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,739 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,739 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,741 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,741 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,748 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,748 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,750 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,750 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,753 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,754 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,757 - uvicorn.error - INFO - Shutting down
2025-05-24 01:54:22,757 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:54:22,821 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,825 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,825 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,825 - uvicorn.error - INFO - Finished server process [324645]
2025-05-24 01:54:22,829 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,832 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,836 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,836 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,836 - uvicorn.error - INFO - Finished server process [324628]
2025-05-24 01:54:22,839 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,840 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,841 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,842 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,842 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,842 - uvicorn.error - INFO - Finished server process [324630]
2025-05-24 01:54:22,843 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,843 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,843 - uvicorn.error - INFO - Finished server process [324641]
2025-05-24 01:54:22,844 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,844 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,845 - uvicorn.error - INFO - Finished server process [324642]
2025-05-24 01:54:22,846 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,847 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,847 - uvicorn.error - INFO - Finished server process [324629]
2025-05-24 01:54:22,849 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,851 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,855 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,856 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,856 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,856 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,856 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,856 - uvicorn.error - INFO - Finished server process [324640]
2025-05-24 01:54:22,857 - uvicorn.error - INFO - Finished server process [324644]
2025-05-24 01:54:22,858 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:54:22,862 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,862 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,863 - uvicorn.error - INFO - Finished server process [324627]
2025-05-24 01:54:22,866 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:54:22,867 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:54:22,867 - uvicorn.error - INFO - Finished server process [324643]
2025-05-24 01:54:22,875 - gunicorn.error - ERROR - Worker (pid:324645) was sent SIGINT!
2025-05-24 01:54:22,899 - gunicorn.error - ERROR - Worker (pid:324630) was sent SIGINT!
2025-05-24 01:54:22,898 - gunicorn.error - ERROR - Worker (pid:324628) was sent SIGINT!
2025-05-24 01:54:22,902 - gunicorn.error - ERROR - Worker (pid:324642) was sent SIGINT!
2025-05-24 01:54:22,906 - gunicorn.error - ERROR - Worker (pid:324629) was sent SIGINT!
2025-05-24 01:54:22,908 - gunicorn.error - ERROR - Worker (pid:324641) was sent SIGINT!
2025-05-24 01:54:22,910 - gunicorn.error - ERROR - Worker (pid:324627) was sent SIGINT!
2025-05-24 01:54:22,911 - gunicorn.error - ERROR - Worker (pid:324640) was sent SIGINT!
2025-05-24 01:54:22,939 - gunicorn.error - ERROR - Worker (pid:324644) was sent SIGINT!
2025-05-24 01:54:22,948 - gunicorn.error - ERROR - Worker (pid:324643) was sent SIGINT!
2025-05-24 01:54:22,995 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 01:54:24,361 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 01:54:24,361 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (331216)
2025-05-24 01:54:24,361 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 01:54:24,365 - gunicorn.error - INFO - Booting worker with pid: 331217
2025-05-24 01:54:24,447 - gunicorn.error - INFO - Booting worker with pid: 331218
2025-05-24 01:54:24,479 - gunicorn.error - INFO - Booting worker with pid: 331219
2025-05-24 01:54:24,569 - gunicorn.error - INFO - Booting worker with pid: 331220
2025-05-24 01:54:24,659 - gunicorn.error - INFO - Booting worker with pid: 331221
2025-05-24 01:54:24,682 - gunicorn.error - INFO - Booting worker with pid: 331222
2025-05-24 01:54:24,767 - gunicorn.error - INFO - Booting worker with pid: 331223
2025-05-24 01:54:24,857 - gunicorn.error - INFO - Booting worker with pid: 331224
2025-05-24 01:54:24,904 - gunicorn.error - INFO - Booting worker with pid: 331225
2025-05-24 01:54:24,963 - gunicorn.error - INFO - Booting worker with pid: 331226
2025-05-24 01:54:27,076 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:27,196 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:27,233 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:27,707 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:27,808 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:27,927 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:27,934 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:27,934 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:27,950 - uvicorn.error - INFO - Started server process [331217]
2025-05-24 01:54:27,950 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:27,959 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:27,986 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:28,063 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:28,063 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:28,079 - uvicorn.error - INFO - Started server process [331219]
2025-05-24 01:54:28,079 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:28,088 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:28,088 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:28,103 - uvicorn.error - INFO - Started server process [331218]
2025-05-24 01:54:28,104 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:28,106 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:28,107 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:28,107 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:28,113 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:28,114 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:28,114 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:28,116 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:28,138 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:28,230 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:28,232 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:28,232 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:28,238 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:28,238 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:28,238 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:28,248 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:28,249 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:28,250 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:28,255 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:28,255 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:28,255 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:28,443 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:28,561 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:28,561 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:28,577 - uvicorn.error - INFO - Started server process [331226]
2025-05-24 01:54:28,577 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:28,612 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:28,725 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:28,726 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:28,726 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:28,731 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:28,731 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:28,732 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:30,868 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 330) with member_id aiokafka-0.12.0-06e28bf3-50ea-4d67-8974-469368199d75
2025-05-24 01:54:30,868 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 330) with member_id aiokafka-0.12.0-d56a66e1-409a-446b-8012-30ea859ef364
2025-05-24 01:54:30,868 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 330) with member_id aiokafka-0.12.0-ce4338c7-2290-4dd8-9e77-dbde8de0d39b
2025-05-24 01:54:30,868 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 330) with member_id aiokafka-0.12.0-b57bc960-f78b-4931-9295-b31dc1169191
2025-05-24 01:54:30,869 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 330
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 330
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 330
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 330
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:30,871 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:32,313 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,390 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,409 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,530 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,623 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,698 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:54:32,842 - uvicorn.access - INFO - 127.0.0.1:34456 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:54:32,845 - app.core.logging - INFO - chat 'tom1_fa3a58b0-d136-4107-88a0-b6bd630df1ba uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

All outputs in Markdown format, especially mathematical formulas in Latex format($formula$).'
2025-05-24 01:54:32,980 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 01:54:33,070 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,134 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,141 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,246 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,246 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,262 - uvicorn.error - INFO - Started server process [331220]
2025-05-24 01:54:33,262 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,265 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,265 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,278 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,281 - uvicorn.error - INFO - Started server process [331222]
2025-05-24 01:54:33,281 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,298 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,315 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,327 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,327 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,343 - uvicorn.error - INFO - Started server process [331221]
2025-05-24 01:54:33,343 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,373 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,379 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,412 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,414 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,414 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,420 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,420 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,420 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,433 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,434 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,434 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,440 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,440 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,440 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,448 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:54:33,470 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,471 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,487 - uvicorn.error - INFO - Started server process [331223]
2025-05-24 01:54:33,487 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,506 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,509 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,510 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,516 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,517 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,517 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,523 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,571 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,571 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,587 - uvicorn.error - INFO - Started server process [331224]
2025-05-24 01:54:33,588 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,599 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:54:33,599 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:54:33,615 - uvicorn.error - INFO - Started server process [331225]
2025-05-24 01:54:33,615 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:54:33,625 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,650 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,652 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,652 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,653 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:54:33,662 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,662 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,662 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,746 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,747 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,747 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,758 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,758 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,758 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,777 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:54:33,778 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:54:33,778 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:54:33,784 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:33,784 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:54:33,784 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,872 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:33,873 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:33,874 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-06e28bf3-50ea-4d67-8974-469368199d75
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-d56a66e1-409a-446b-8012-30ea859ef364
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-829fd4d5-c978-4451-8cae-59637afd4540
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-1d538af4-dcd2-4191-99c1-d028307e398a
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-5de25bff-b086-453f-8495-3657e9c2265f
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-beb7b428-049a-4e40-9869-c1c852c51027
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-acedc1ee-082c-4845-b5a0-501cc71411d9
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-ce4338c7-2290-4dd8-9e77-dbde8de0d39b
2025-05-24 01:54:40,872 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 331) with member_id aiokafka-0.12.0-751b5264-ef73-413f-93d4-d462f7f6d694
2025-05-24 01:54:40,874 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,874 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 331
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:54:40,875 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:53,152 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 01:54:53,152 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 01:54:53,152 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 01:54:53,154 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:54:53,154 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:53,154 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:53,155 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 01:54:53,156 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 01:54:53,212 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:54:53,213 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 01:54:53,264 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:54:53,264 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 01:54:53,310 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 01:54:53,311 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 01:54:55,875 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,876 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,876 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,876 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,876 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:54:55,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-06e28bf3-50ea-4d67-8974-469368199d75
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-5de25bff-b086-453f-8495-3657e9c2265f
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-751b5264-ef73-413f-93d4-d462f7f6d694
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-ce4338c7-2290-4dd8-9e77-dbde8de0d39b
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-acedc1ee-082c-4845-b5a0-501cc71411d9
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-829fd4d5-c978-4451-8cae-59637afd4540
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-beb7b428-049a-4e40-9869-c1c852c51027
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-1d538af4-dcd2-4191-99c1-d028307e398a
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-d56a66e1-409a-446b-8012-30ea859ef364
2025-05-24 01:54:55,879 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:54:55,881 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,881 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,881 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:55,882 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:54:58,733 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 332) with member_id aiokafka-0.12.0-7c50ff04-126f-46b1-aff7-dfc757579a50
2025-05-24 01:54:58,749 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 332
2025-05-24 01:54:58,755 - LiteLLM - INFO - 
LiteLLM completion() model= Qwen/Qwen2.5-VL-32B-Instruct; provider = openai
2025-05-24 01:54:58,755 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:55:08,085 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-24 01:55:08,091 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:55:08,095 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:56:24,092 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:56:24,093 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:56:24,096 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:56:24,096 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 01:59:34,166 - gunicorn.error - INFO - Handling signal: int
2025-05-24 01:59:34,185 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,185 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,200 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,201 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,208 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,208 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,217 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,217 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,217 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,217 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,233 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,233 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,235 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,235 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,237 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,238 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,247 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,247 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,259 - uvicorn.error - INFO - Shutting down
2025-05-24 01:59:34,259 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 01:59:34,286 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,289 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,289 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,290 - uvicorn.error - INFO - Finished server process [331225]
2025-05-24 01:59:34,301 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,306 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,306 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,307 - uvicorn.error - INFO - Finished server process [331219]
2025-05-24 01:59:34,309 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,312 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,313 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,313 - uvicorn.error - INFO - Finished server process [331222]
2025-05-24 01:59:34,318 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,318 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,321 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,322 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,322 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,322 - uvicorn.error - INFO - Finished server process [331217]
2025-05-24 01:59:34,322 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,322 - uvicorn.error - INFO - Finished server process [331220]
2025-05-24 01:59:34,328 - gunicorn.error - ERROR - Worker (pid:331225) was sent SIGINT!
2025-05-24 01:59:34,334 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,336 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,337 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,337 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,338 - uvicorn.error - INFO - Finished server process [331221]
2025-05-24 01:59:34,338 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,340 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,340 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,340 - uvicorn.error - INFO - Finished server process [331223]
2025-05-24 01:59:34,344 - gunicorn.error - ERROR - Worker (pid:331219) was sent SIGINT!
2025-05-24 01:59:34,344 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,344 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,345 - uvicorn.error - INFO - Finished server process [331226]
2025-05-24 01:59:34,348 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,349 - gunicorn.error - ERROR - Worker (pid:331222) was sent SIGINT!
2025-05-24 01:59:34,351 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,351 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,352 - uvicorn.error - INFO - Finished server process [331218]
2025-05-24 01:59:34,360 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 01:59:34,360 - gunicorn.error - ERROR - Worker (pid:331217) was sent SIGINT!
2025-05-24 01:59:34,363 - app.core.logging - INFO - FastAPI Closed
2025-05-24 01:59:34,364 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 01:59:34,364 - uvicorn.error - INFO - Finished server process [331224]
2025-05-24 01:59:34,365 - gunicorn.error - ERROR - Worker (pid:331220) was sent SIGINT!
2025-05-24 01:59:34,378 - gunicorn.error - ERROR - Worker (pid:331223) was sent SIGINT!
2025-05-24 01:59:34,385 - gunicorn.error - ERROR - Worker (pid:331221) was sent SIGINT!
2025-05-24 01:59:34,390 - gunicorn.error - ERROR - Worker (pid:331218) was sent SIGINT!
2025-05-24 01:59:34,399 - gunicorn.error - ERROR - Worker (pid:331224) was sent SIGINT!
2025-05-24 01:59:34,409 - gunicorn.error - ERROR - Worker (pid:331226) was sent SIGINT!
2025-05-24 01:59:34,467 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 01:59:35,492 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 01:59:35,493 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (337716)
2025-05-24 01:59:35,493 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 01:59:35,496 - gunicorn.error - INFO - Booting worker with pid: 337780
2025-05-24 01:59:35,564 - gunicorn.error - INFO - Booting worker with pid: 337781
2025-05-24 01:59:35,624 - gunicorn.error - INFO - Booting worker with pid: 337782
2025-05-24 01:59:35,659 - gunicorn.error - INFO - Booting worker with pid: 337783
2025-05-24 01:59:35,701 - gunicorn.error - INFO - Booting worker with pid: 337784
2025-05-24 01:59:35,757 - gunicorn.error - INFO - Booting worker with pid: 337785
2025-05-24 01:59:35,816 - gunicorn.error - INFO - Booting worker with pid: 337786
2025-05-24 01:59:35,915 - gunicorn.error - INFO - Booting worker with pid: 337787
2025-05-24 01:59:36,002 - gunicorn.error - INFO - Booting worker with pid: 337788
2025-05-24 01:59:36,040 - gunicorn.error - INFO - Booting worker with pid: 337789
2025-05-24 01:59:38,181 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,322 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,375 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,392 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,479 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,494 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,520 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,707 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,734 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,738 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 01:59:38,920 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,053 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,053 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,069 - uvicorn.error - INFO - Started server process [337780]
2025-05-24 01:59:39,069 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,075 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,104 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,111 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,144 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,223 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,224 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,224 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,230 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,230 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,230 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,231 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,236 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,236 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,239 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,248 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,248 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,252 - uvicorn.error - INFO - Started server process [337781]
2025-05-24 01:59:39,252 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,264 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,264 - uvicorn.error - INFO - Started server process [337782]
2025-05-24 01:59:39,264 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,275 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,301 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,340 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,340 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,356 - uvicorn.error - INFO - Started server process [337783]
2025-05-24 01:59:39,357 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,394 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,416 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,417 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,417 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,417 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,418 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,419 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,422 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,423 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,428 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,428 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,428 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,432 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,432 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,432 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,432 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,433 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,433 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,433 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,434 - uvicorn.error - INFO - Started server process [337784]
2025-05-24 01:59:39,434 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,440 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,448 - uvicorn.error - INFO - Started server process [337785]
2025-05-24 01:59:39,449 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,448 - uvicorn.error - INFO - Started server process [337786]
2025-05-24 01:59:39,449 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,468 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,469 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,471 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,484 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,498 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 01:59:39,520 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,522 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,522 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,528 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,528 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,528 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,588 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,589 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,590 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,596 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,596 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,596 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,597 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,598 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,599 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,599 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,599 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,600 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,605 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,611 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,611 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,627 - uvicorn.error - INFO - Started server process [337788]
2025-05-24 01:59:39,627 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,644 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,644 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,660 - uvicorn.error - INFO - Started server process [337789]
2025-05-24 01:59:39,660 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,660 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 01:59:39,660 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 01:59:39,664 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,676 - uvicorn.error - INFO - Started server process [337787]
2025-05-24 01:59:39,676 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 01:59:39,695 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,711 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 01:59:39,790 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,791 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,792 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,799 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,800 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,800 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,810 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,813 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,814 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,822 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,822 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,822 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:39,836 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 01:59:39,837 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 01:59:39,838 - uvicorn.error - INFO - Application startup complete.
2025-05-24 01:59:39,847 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 01:59:39,847 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 01:59:39,847 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-b133e634-4fca-490a-91d2-f4fc65df80e0
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-32e67b04-4e2d-490c-bc31-6b6a0496a89d
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-75bc2a6b-3cf4-4e47-923a-70cfb3b79064
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-a91d1733-92a0-4655-822d-e379f14f6b2f
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-405386e8-dd8b-4105-ac75-17d87223acff
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-d09e7687-d469-4256-87f5-d555e96ac77f
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-38f6679f-e9cc-42eb-948b-b54831aaa51b
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-d16146f4-44a4-4dde-88ee-96d48783fefc
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-7b07eb80-781f-4162-a789-0df34b1adb0a
2025-05-24 01:59:41,873 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 333) with member_id aiokafka-0.12.0-1982a346-1cc2-41c9-9450-fe304f6c3e27
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 333
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:59:41,876 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:45,662 - uvicorn.access - INFO - 127.0.0.1:53404 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 01:59:45,665 - app.core.logging - INFO - chat 'tom1_fa3a58b0-d136-4107-88a0-b6bd630df1ba uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

All outputs in Markdown format, especially mathematical formulas in Latex format($formula$).'
2025-05-24 01:59:45,800 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 01:59:56,876 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,876 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,879 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 01:59:56,879 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 01:59:56,879 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-a91d1733-92a0-4655-822d-e379f14f6b2f
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-32e67b04-4e2d-490c-bc31-6b6a0496a89d
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-1982a346-1cc2-41c9-9450-fe304f6c3e27
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-75bc2a6b-3cf4-4e47-923a-70cfb3b79064
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-38f6679f-e9cc-42eb-948b-b54831aaa51b
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-d09e7687-d469-4256-87f5-d555e96ac77f
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-b133e634-4fca-490a-91d2-f4fc65df80e0
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-d16146f4-44a4-4dde-88ee-96d48783fefc
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 01:59:56,881 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 334) with member_id aiokafka-0.12.0-405386e8-dd8b-4105-ac75-17d87223acff
2025-05-24 01:59:56,883 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,883 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,883 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,883 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 334
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 01:59:56,884 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:06,059 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:00:06,059 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:00:06,059 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:00:06,060 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:00:06,060 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:00:06,107 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:00:06,108 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:06,108 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:06,118 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:00:06,118 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:00:06,170 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:00:06,170 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 02:00:06,214 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:00:06,214 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:00:06,270 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:00:06,270 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:00:06,307 - LiteLLM - INFO - 
LiteLLM completion() model= Qwen/Qwen2.5-VL-32B-Instruct; provider = openai
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,884 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,885 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,886 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,886 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,886 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:00:08,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:00:08,888 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-a91d1733-92a0-4655-822d-e379f14f6b2f
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-75bc2a6b-3cf4-4e47-923a-70cfb3b79064
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-1982a346-1cc2-41c9-9450-fe304f6c3e27
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-d09e7687-d469-4256-87f5-d555e96ac77f
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-32e67b04-4e2d-490c-bc31-6b6a0496a89d
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-38f6679f-e9cc-42eb-948b-b54831aaa51b
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-405386e8-dd8b-4105-ac75-17d87223acff
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-d16146f4-44a4-4dde-88ee-96d48783fefc
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-b133e634-4fca-490a-91d2-f4fc65df80e0
2025-05-24 02:00:08,889 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 335) with member_id aiokafka-0.12.0-9b2a8499-1657-48a3-bf3e-f80ac7f3163e
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,891 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 335
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:08,892 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:00:17,954 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-24 02:00:17,956 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:00:17,960 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:00:52,716 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:00:52,717 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:00:52,720 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:00:52,721 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:02:11,734 - gunicorn.error - INFO - Handling signal: int
2025-05-24 02:02:11,753 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,754 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,771 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,772 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,787 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,787 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,797 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,797 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,800 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,800 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,805 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,805 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,806 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,806 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,829 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,829 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,831 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,831 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,832 - uvicorn.error - INFO - Shutting down
2025-05-24 02:02:11,832 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:02:11,854 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,858 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,858 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,858 - uvicorn.error - INFO - Finished server process [337787]
2025-05-24 02:02:11,872 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,876 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,876 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,876 - uvicorn.error - INFO - Finished server process [337780]
2025-05-24 02:02:11,887 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,891 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,891 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,891 - uvicorn.error - INFO - Finished server process [337784]
2025-05-24 02:02:11,895 - gunicorn.error - ERROR - Worker (pid:337787) was sent SIGINT!
2025-05-24 02:02:11,897 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,900 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,901 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,901 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,901 - uvicorn.error - INFO - Finished server process [337786]
2025-05-24 02:02:11,904 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,904 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,904 - uvicorn.error - INFO - Finished server process [337788]
2025-05-24 02:02:11,905 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,906 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,909 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,909 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,909 - uvicorn.error - INFO - Finished server process [337782]
2025-05-24 02:02:11,910 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,910 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,911 - uvicorn.error - INFO - Finished server process [337785]
2025-05-24 02:02:11,915 - gunicorn.error - ERROR - Worker (pid:337780) was sent SIGINT!
2025-05-24 02:02:11,929 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,931 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,932 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,933 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,933 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:02:11,933 - uvicorn.error - INFO - Finished server process [337783]
2025-05-24 02:02:11,933 - gunicorn.error - ERROR - Worker (pid:337784) was sent SIGINT!
2025-05-24 02:02:11,935 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,935 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,936 - uvicorn.error - INFO - Finished server process [337781]
2025-05-24 02:02:11,939 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:02:11,939 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:02:11,940 - uvicorn.error - INFO - Finished server process [337789]
2025-05-24 02:02:11,944 - gunicorn.error - ERROR - Worker (pid:337786) was sent SIGINT!
2025-05-24 02:02:11,946 - gunicorn.error - ERROR - Worker (pid:337782) was sent SIGINT!
2025-05-24 02:02:11,949 - gunicorn.error - ERROR - Worker (pid:337788) was sent SIGINT!
2025-05-24 02:02:11,951 - gunicorn.error - ERROR - Worker (pid:337785) was sent SIGINT!
2025-05-24 02:02:11,971 - gunicorn.error - ERROR - Worker (pid:337783) was sent SIGINT!
2025-05-24 02:02:11,974 - gunicorn.error - ERROR - Worker (pid:337781) was sent SIGINT!
2025-05-24 02:02:12,003 - gunicorn.error - ERROR - Worker (pid:337789) was sent SIGINT!
2025-05-24 02:02:12,036 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 02:02:13,049 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 02:02:13,049 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (341641)
2025-05-24 02:02:13,049 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 02:02:13,052 - gunicorn.error - INFO - Booting worker with pid: 341674
2025-05-24 02:02:13,117 - gunicorn.error - INFO - Booting worker with pid: 341675
2025-05-24 02:02:13,121 - gunicorn.error - INFO - Booting worker with pid: 341676
2025-05-24 02:02:13,181 - gunicorn.error - INFO - Booting worker with pid: 341677
2025-05-24 02:02:13,274 - gunicorn.error - INFO - Booting worker with pid: 341678
2025-05-24 02:02:13,343 - gunicorn.error - INFO - Booting worker with pid: 341688
2025-05-24 02:02:13,400 - gunicorn.error - INFO - Booting worker with pid: 341690
2025-05-24 02:02:13,452 - gunicorn.error - INFO - Booting worker with pid: 341692
2025-05-24 02:02:13,490 - gunicorn.error - INFO - Booting worker with pid: 341693
2025-05-24 02:02:13,498 - gunicorn.error - INFO - Booting worker with pid: 341694
2025-05-24 02:02:15,824 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:15,888 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:15,889 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:15,907 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:15,999 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,075 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,097 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,206 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,220 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,241 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:02:16,560 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,629 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,648 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,651 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,690 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,690 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,706 - uvicorn.error - INFO - Started server process [341675]
2025-05-24 02:02:16,706 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,737 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,742 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:16,792 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,792 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,808 - uvicorn.error - INFO - Started server process [341676]
2025-05-24 02:02:16,808 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,818 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,818 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,830 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,833 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,834 - uvicorn.error - INFO - Started server process [341674]
2025-05-24 02:02:16,834 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,837 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,837 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,846 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:16,853 - uvicorn.error - INFO - Started server process [341677]
2025-05-24 02:02:16,853 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,870 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:16,874 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:16,875 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:16,876 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:16,883 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,883 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,887 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:16,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:16,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:16,889 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:16,900 - uvicorn.error - INFO - Started server process [341678]
2025-05-24 02:02:16,900 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,937 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:16,967 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,967 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,975 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:16,977 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:16,977 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:16,978 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,981 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,982 - uvicorn.error - INFO - Started server process [341690]
2025-05-24 02:02:16,983 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:16,984 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:02:16,988 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:16,988 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:16,988 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:16,992 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:16,992 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:16,998 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:16,999 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,000 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,008 - uvicorn.error - INFO - Started server process [341688]
2025-05-24 02:02:17,009 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:17,009 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,009 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,010 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,018 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:17,033 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,034 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,035 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,042 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,042 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,042 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,044 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:17,070 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,071 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,071 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,081 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,081 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,081 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,110 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:17,110 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:17,113 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:17,113 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:17,125 - uvicorn.error - INFO - Started server process [341694]
2025-05-24 02:02:17,126 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:17,128 - uvicorn.error - INFO - Started server process [341692]
2025-05-24 02:02:17,128 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:17,146 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,147 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,148 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,154 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,154 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,154 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,159 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,159 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:02:17,159 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:02:17,160 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:17,160 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,160 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,162 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:17,167 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,168 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,168 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,175 - uvicorn.error - INFO - Started server process [341693]
2025-05-24 02:02:17,175 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:02:17,211 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:02:17,289 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,290 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,291 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,291 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,291 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,291 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,298 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:17,324 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:02:17,326 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:02:17,326 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:02:17,331 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:17,331 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:02:17,331 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-0064bfed-8f97-4cac-a4d2-7d4b23b763e3
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-5c571b1f-cfb0-4fc1-9e76-c5e8d7b3499e
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-f341bc34-9529-4bd5-acd5-a7fdddb95fb9
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-0b62f76a-d31b-43e4-a1a6-090849ae6b2d
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-ef612703-32b8-4398-b946-0af93aedd776
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-9b7400d9-9418-4f48-ac4f-78ba4c33b759
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-62141001-4713-406c-a636-2ab55249942c
2025-05-24 02:02:21,892 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-e84c88c1-8639-4ce3-970e-3c1fba94618f
2025-05-24 02:02:21,893 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-4d31f1e9-3167-401a-925f-115f316f1a1e
2025-05-24 02:02:21,893 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 336) with member_id aiokafka-0.12.0-b9c491ef-ff28-466b-ac9b-dd381d926f81
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,897 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 336
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:21,898 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:25,280 - uvicorn.access - INFO - 127.0.0.1:52312 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:02:25,284 - app.core.logging - INFO - chat 'tom1_fa3a58b0-d136-4107-88a0-b6bd630df1ba uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：

🎯 **图片分析优先级规则**：
1. 重点关注高分图片中的关键信息：文字、图表、表格、数据等

📋 **分析要求**：
1. 仔细分析问题中提到的所有内容
2. 对于图片内容，详细描述你看到的视觉信息，特别是与问题相关的部分
3. 结合文本和图片信息，给出准确、完整的回答
4. 如果问题涉及图片中的具体细节，请明确指出来源（如"根据🥇最相关图片显示..."）
5. 如果无法从图片中获取足够信息，请说明原因
6. 回答时保持客观，只基于提供的信息进行回答
7. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

All outputs in Markdown format, especially mathematical formulas in Latex format($formula$).'
2025-05-24 02:02:25,443 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:02:36,896 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,897 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,898 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,898 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,900 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:36,901 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,901 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-0b62f76a-d31b-43e4-a1a6-090849ae6b2d
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-62141001-4713-406c-a636-2ab55249942c
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-4d31f1e9-3167-401a-925f-115f316f1a1e
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-0064bfed-8f97-4cac-a4d2-7d4b23b763e3
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-b9c491ef-ff28-466b-ac9b-dd381d926f81
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-9b7400d9-9418-4f48-ac4f-78ba4c33b759
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-e84c88c1-8639-4ce3-970e-3c1fba94618f
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-ef612703-32b8-4398-b946-0af93aedd776
2025-05-24 02:02:36,902 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 337) with member_id aiokafka-0.12.0-f341bc34-9529-4bd5-acd5-a7fdddb95fb9
2025-05-24 02:02:36,904 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,904 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 337
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:36,905 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:46,016 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:02:46,017 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:02:46,017 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:02:46,019 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:02:46,019 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:46,019 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:46,021 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:02:46,021 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:02:46,078 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,078 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:02:46,133 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,133 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 02:02:46,190 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,190 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:02:46,228 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,228 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:02:46,265 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,265 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 02:02:46,303 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:02:46,303 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:02:46,341 - LiteLLM - INFO - 
LiteLLM completion() model= Qwen/Qwen2.5-VL-32B-Instruct; provider = openai
2025-05-24 02:02:48,905 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,905 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,906 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:02:48,907 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,908 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-0064bfed-8f97-4cac-a4d2-7d4b23b763e3
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-f341bc34-9529-4bd5-acd5-a7fdddb95fb9
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-62141001-4713-406c-a636-2ab55249942c
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-e84c88c1-8639-4ce3-970e-3c1fba94618f
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-0b62f76a-d31b-43e4-a1a6-090849ae6b2d
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-9b7400d9-9418-4f48-ac4f-78ba4c33b759
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-b9c491ef-ff28-466b-ac9b-dd381d926f81
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-4d31f1e9-3167-401a-925f-115f316f1a1e
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-aa26837d-b73c-49ee-8a1f-2b796165b182
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:02:48,909 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 338) with member_id aiokafka-0.12.0-ef612703-32b8-4398-b946-0af93aedd776
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 338
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:02:48,912 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:03:08,911 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-24 02:03:08,913 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:03:08,916 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:04:15,359 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:04:15,360 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:04:15,362 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:04:15,362 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:07:05,296 - gunicorn.error - INFO - Handling signal: int
2025-05-24 02:07:05,326 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,327 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,342 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,343 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,351 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,352 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,358 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,359 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,370 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,370 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,376 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,376 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,377 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,377 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,377 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,377 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,386 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,387 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,392 - uvicorn.error - INFO - Shutting down
2025-05-24 02:07:05,392 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:07:05,427 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,431 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,431 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,432 - uvicorn.error - INFO - Finished server process [341690]
2025-05-24 02:07:05,443 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,447 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,447 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,447 - uvicorn.error - INFO - Finished server process [341678]
2025-05-24 02:07:05,452 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,456 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,456 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,456 - uvicorn.error - INFO - Finished server process [341675]
2025-05-24 02:07:05,459 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,463 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,463 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,463 - uvicorn.error - INFO - Finished server process [341688]
2025-05-24 02:07:05,470 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,474 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,475 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,475 - uvicorn.error - INFO - Finished server process [341676]
2025-05-24 02:07:05,476 - gunicorn.error - ERROR - Worker (pid:341690) was sent SIGINT!
2025-05-24 02:07:05,477 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,477 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,478 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,481 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,481 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,481 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,482 - uvicorn.error - INFO - Finished server process [341692]
2025-05-24 02:07:05,482 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,482 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,482 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,482 - uvicorn.error - INFO - Finished server process [341677]
2025-05-24 02:07:05,482 - uvicorn.error - INFO - Finished server process [341674]
2025-05-24 02:07:05,487 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,491 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,491 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,491 - uvicorn.error - INFO - Finished server process [341694]
2025-05-24 02:07:05,492 - gunicorn.error - ERROR - Worker (pid:341678) was sent SIGINT!
2025-05-24 02:07:05,493 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:07:05,499 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:07:05,500 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:07:05,500 - uvicorn.error - INFO - Finished server process [341693]
2025-05-24 02:07:05,507 - gunicorn.error - ERROR - Worker (pid:341675) was sent SIGINT!
2025-05-24 02:07:05,516 - gunicorn.error - ERROR - Worker (pid:341688) was sent SIGINT!
2025-05-24 02:07:05,526 - gunicorn.error - ERROR - Worker (pid:341676) was sent SIGINT!
2025-05-24 02:07:05,530 - gunicorn.error - ERROR - Worker (pid:341692) was sent SIGINT!
2025-05-24 02:07:05,537 - gunicorn.error - ERROR - Worker (pid:341674) was sent SIGINT!
2025-05-24 02:07:05,538 - gunicorn.error - ERROR - Worker (pid:341677) was sent SIGINT!
2025-05-24 02:07:05,540 - gunicorn.error - ERROR - Worker (pid:341694) was sent SIGINT!
2025-05-24 02:07:05,575 - gunicorn.error - ERROR - Worker (pid:341693) was sent SIGINT!
2025-05-24 02:07:05,597 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 02:07:06,912 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 02:07:06,912 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (348093)
2025-05-24 02:07:06,912 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 02:07:06,915 - gunicorn.error - INFO - Booting worker with pid: 348094
2025-05-24 02:07:06,964 - gunicorn.error - INFO - Booting worker with pid: 348095
2025-05-24 02:07:07,065 - gunicorn.error - INFO - Booting worker with pid: 348096
2025-05-24 02:07:07,153 - gunicorn.error - INFO - Booting worker with pid: 348097
2025-05-24 02:07:07,176 - gunicorn.error - INFO - Booting worker with pid: 348098
2025-05-24 02:07:07,258 - gunicorn.error - INFO - Booting worker with pid: 348108
2025-05-24 02:07:07,292 - gunicorn.error - INFO - Booting worker with pid: 348109
2025-05-24 02:07:07,326 - gunicorn.error - INFO - Booting worker with pid: 348110
2025-05-24 02:07:07,345 - gunicorn.error - INFO - Booting worker with pid: 348111
2025-05-24 02:07:07,389 - gunicorn.error - INFO - Booting worker with pid: 348112
2025-05-24 02:07:09,578 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:09,654 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:09,951 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:10,005 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:10,079 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:10,109 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:10,149 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:07:10,298 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,370 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,435 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,435 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,450 - uvicorn.error - INFO - Started server process [348094]
2025-05-24 02:07:10,451 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:10,486 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:10,494 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,494 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,509 - uvicorn.error - INFO - Started server process [348095]
2025-05-24 02:07:10,509 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:10,546 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:10,603 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:10,604 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:10,604 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:10,610 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:10,610 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:10,610 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:10,657 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:10,658 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:10,658 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:10,664 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:10,664 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:10,664 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:10,704 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,728 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,831 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,841 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,859 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,859 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,861 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,861 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,875 - uvicorn.error - INFO - Started server process [348097]
2025-05-24 02:07:10,875 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:10,876 - uvicorn.error - INFO - Started server process [348108]
2025-05-24 02:07:10,876 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:10,897 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:10,913 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:10,914 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:10,980 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,980 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,995 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:10,995 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:10,996 - uvicorn.error - INFO - Started server process [348110]
2025-05-24 02:07:10,996 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:11,011 - uvicorn.error - INFO - Started server process [348109]
2025-05-24 02:07:11,011 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:11,029 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:11,030 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:11,031 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:11,033 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:11,033 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:11,034 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:11,034 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:11,036 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:11,037 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:11,037 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:11,040 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:11,040 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:11,040 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:11,046 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:11,058 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:11,058 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:11,074 - uvicorn.error - INFO - Started server process [348111]
2025-05-24 02:07:11,074 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:11,110 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:11,159 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:11,160 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:11,160 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:11,162 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:11,166 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:11,166 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:11,166 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:11,166 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:11,167 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:11,175 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:11,176 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:11,176 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:11,223 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:11,224 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:11,224 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:11,232 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:11,232 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:11,232 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-9332a0af-3a80-44f8-be7e-c46d38805aee
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 339) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:07:13,908 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 339
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:07:13,911 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:14,719 - uvicorn.access - INFO - 127.0.0.1:58608 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:07:14,723 - app.core.logging - INFO - chat 'tom1_fa3a58b0-d136-4107-88a0-b6bd630df1ba uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：重点关注图片中的关键信息：文字、图表、表格、数据等

**分析要求**：
1. 仔细分析问题中提到的所有内容，结合图片内容信息进行回答，不要联想
2. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

All outputs in Markdown format, especially mathematical formulas in Latex format($formula$).'
2025-05-24 02:07:14,879 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:07:15,371 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:15,495 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:15,495 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:15,511 - uvicorn.error - INFO - Started server process [348096]
2025-05-24 02:07:15,511 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:15,537 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:15,651 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:15,664 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:15,665 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:15,665 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:15,672 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:15,672 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:15,672 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:15,789 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:15,789 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:15,805 - uvicorn.error - INFO - Started server process [348098]
2025-05-24 02:07:15,805 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:15,830 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:07:15,851 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:15,979 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:07:15,979 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:07:15,995 - uvicorn.error - INFO - Started server process [348112]
2025-05-24 02:07:15,995 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:07:16,001 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:16,005 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:16,006 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:16,015 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:16,015 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:16,015 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,031 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:07:16,145 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:07:16,146 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:07:16,146 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:07:16,152 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:16,152 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:07:16,152 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,912 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,912 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:16,913 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:16,914 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-857ea99e-abe1-46d1-95c3-ab2f34a72d77
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-a2d50f93-7d0f-4fa7-8c36-7b03df05032a
2025-05-24 02:07:23,912 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 340) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 340
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,914 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,915 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,915 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,915 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:07:23,915 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:23,915 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,195 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:07:35,195 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:07:35,242 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:07:35,242 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:07:35,242 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:07:35,244 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:07:35,244 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,244 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,252 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,253 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 02:07:35,307 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,307 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:07:35,347 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,347 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:07:35,388 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,388 - app.core.logging - INFO - 📥 Processing image URL: tom1_JTT_722-2008_公路桥梁钢结构防腐涂装技术条件_683008ce8f5f2388b7b2494b.png...
2025-05-24 02:07:35,433 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,434 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:07:35,474 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:07:35,474 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:07:35,513 - LiteLLM - INFO - 
LiteLLM completion() model= Qwen/Qwen2.5-VL-32B-Instruct; provider = openai
2025-05-24 02:07:35,914 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,914 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,914 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:07:35,914 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,915 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,916 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,917 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:07:35,917 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:07:35,917 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-857ea99e-abe1-46d1-95c3-ab2f34a72d77
2025-05-24 02:07:35,919 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 341) with member_id aiokafka-0.12.0-a2d50f93-7d0f-4fa7-8c36-7b03df05032a
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 341
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:07:35,921 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,922 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,922 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,922 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,922 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:35,922 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:07:56,420 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-24 02:07:56,421 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:07:56,424 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:08:37,864 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:08:37,865 - LiteLLM - INFO - selected model name for cost calculation: openai/Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:08:37,867 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:08:37,868 - LiteLLM - INFO - selected model name for cost calculation: Qwen/Qwen2.5-VL-32B-Instruct
2025-05-24 02:09:01,268 - uvicorn.access - INFO - 127.0.0.1:42018 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:09:01,276 - uvicorn.access - INFO - 127.0.0.1:42006 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:09:01,373 - uvicorn.access - INFO - 127.0.0.1:42018 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:09:02,488 - uvicorn.access - INFO - 127.0.0.1:42024 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:09:03,069 - uvicorn.access - INFO - 127.0.0.1:42024 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:09:03,171 - uvicorn.access - INFO - 127.0.0.1:42024 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:09:14,415 - uvicorn.access - INFO - 127.0.0.1:44798 - "PATCH /api/v1/config/tom1/tom1_28e17274-a996-4f6b-ac3b-83c00faca9cd HTTP/1.1" 200
2025-05-24 02:09:21,595 - uvicorn.access - INFO - 127.0.0.1:40900 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 02:09:21,737 - uvicorn.access - INFO - 127.0.0.1:40900 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:09:21,856 - uvicorn.access - INFO - 127.0.0.1:40910 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 02:09:21,963 - uvicorn.access - INFO - 127.0.0.1:40910 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:09:21,965 - app.core.logging - INFO - chat 'tom1_a3233cc9-fd3d-4e56-96c7-f482c2fe7ec3 uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：重点关注图片中的关键信息：文字、图表、表格、数据等

**分析要求**：
1. 仔细分析问题中提到的所有内容，结合图片内容信息进行回答，不要联想
2. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 02:09:22,096 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:09:32,916 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,917 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,918 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,918 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,919 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,920 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,920 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,921 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,922 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:32,923 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,923 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:32,923 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-857ea99e-abe1-46d1-95c3-ab2f34a72d77
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:09:32,925 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 342) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:09:32,927 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,927 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,927 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 342
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:32,928 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:42,565 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:09:42,566 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:09:42,612 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:09:42,613 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:09:42,613 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:09:42,614 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:09:42,614 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:42,614 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:42,623 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:09:42,623 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:09:42,665 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 02:09:44,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,928 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,928 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,930 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:09:44,931 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,931 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,931 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-857ea99e-abe1-46d1-95c3-ab2f34a72d77
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:09:44,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-23e7b436-622f-423e-bdb4-fcd73db4d813
2025-05-24 02:09:44,933 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 343) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 343
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:09:44,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:09:52,597 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 02:09:52,598 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:09:52,675 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:10:19,512 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:10:19,514 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:10:19,594 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:10:19,603 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:10:19,660 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:10:19,680 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:13:59,838 - uvicorn.access - INFO - 127.0.0.1:47820 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:13:59,838 - uvicorn.access - INFO - 127.0.0.1:47822 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:13:59,961 - uvicorn.access - INFO - 127.0.0.1:47822 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:14:01,103 - uvicorn.access - INFO - 127.0.0.1:43550 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:04,452 - uvicorn.access - INFO - 127.0.0.1:43560 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 02:14:04,584 - uvicorn.access - INFO - 127.0.0.1:43560 - "OPTIONS /api/v1/base/users/tom1/files HTTP/1.1" 200
2025-05-24 02:14:04,649 - uvicorn.access - INFO - 127.0.0.1:43574 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 02:14:04,686 - uvicorn.access - INFO - 127.0.0.1:43580 - "OPTIONS /api/v1/base/users/tom1/files HTTP/1.1" 200
2025-05-24 02:14:04,691 - uvicorn.access - INFO - 127.0.0.1:43560 - "POST /api/v1/base/users/tom1/files HTTP/1.1" 200
2025-05-24 02:14:04,702 - uvicorn.access - INFO - 127.0.0.1:43588 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:04,805 - uvicorn.access - INFO - 127.0.0.1:43580 - "POST /api/v1/base/users/tom1/files HTTP/1.1" 200
2025-05-24 02:14:04,817 - uvicorn.access - INFO - 127.0.0.1:43560 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:04,877 - uvicorn.access - INFO - 127.0.0.1:43588 - "OPTIONS /api/v1/base/knowledge_bases/tom1_973153b1-91b2-482c-be03-72baffb261c5/files HTTP/1.1" 200
2025-05-24 02:14:04,992 - uvicorn.access - INFO - 127.0.0.1:43588 - "POST /api/v1/base/knowledge_bases/tom1_973153b1-91b2-482c-be03-72baffb261c5/files HTTP/1.1" 200
2025-05-24 02:14:09,056 - uvicorn.access - INFO - 127.0.0.1:43598 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 02:14:09,185 - uvicorn.access - INFO - 127.0.0.1:43598 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:09,278 - uvicorn.access - INFO - 127.0.0.1:43598 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:14:09,285 - uvicorn.access - INFO - 127.0.0.1:43608 - "GET /api/v1/auth/verify-token HTTP/1.1" 200
2025-05-24 02:14:09,286 - uvicorn.access - INFO - 127.0.0.1:43600 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:09,369 - uvicorn.access - INFO - 127.0.0.1:43624 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:09,407 - uvicorn.access - INFO - 127.0.0.1:43598 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:09,469 - uvicorn.access - INFO - 127.0.0.1:43624 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:14:10,972 - uvicorn.access - INFO - 127.0.0.1:41390 - "OPTIONS /api/v1/chat/conversations/tom1_a3233cc9-fd3d-4e56-96c7-f482c2fe7ec3 HTTP/1.1" 200
2025-05-24 02:14:11,075 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/chat/conversations/tom1_a3233cc9-fd3d-4e56-96c7-f482c2fe7ec3 HTTP/1.1" 200
2025-05-24 02:14:11,245 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:12,226 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:12,325 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:14:12,371 - uvicorn.access - INFO - 127.0.0.1:41404 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:12,496 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:13,379 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/base/users/tom1/knowledge_bases HTTP/1.1" 200
2025-05-24 02:14:13,541 - uvicorn.access - INFO - 127.0.0.1:41390 - "GET /api/v1/config/tom1/all HTTP/1.1" 200
2025-05-24 02:14:16,462 - uvicorn.access - INFO - 127.0.0.1:41416 - "PATCH /api/v1/config/tom1/tom1_28e17274-a996-4f6b-ac3b-83c00faca9cd HTTP/1.1" 200
2025-05-24 02:14:31,974 - uvicorn.access - INFO - 127.0.0.1:41600 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 02:14:32,085 - uvicorn.access - INFO - 127.0.0.1:41600 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:14:32,195 - uvicorn.access - INFO - 127.0.0.1:41604 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 02:14:32,319 - uvicorn.access - INFO - 127.0.0.1:41604 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:14:32,322 - app.core.logging - INFO - chat 'tom1_16f7f37f-85f1-4d83-b77a-6b9e39677823 uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：重点关注图片中的关键信息：文字、图表、表格、数据等

**分析要求**：
1. 仔细分析问题中提到的所有内容，结合图片内容信息进行回答，不要联想
2. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 02:14:32,478 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:14:41,709 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:14:41,709 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:14:41,709 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:14:41,711 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:14:41,711 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,711 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,717 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:14:41,717 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d7.png...
2025-05-24 02:14:41,781 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:14:41,782 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73cb.png...
2025-05-24 02:14:41,836 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:14:41,836 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d8.png...
2025-05-24 02:14:41,875 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:14:41,875 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569d7aa10aa5332c73da.png...
2025-05-24 02:14:41,915 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:14:41,915 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d9.png...
2025-05-24 02:14:41,920 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,920 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,920 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,921 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,921 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,921 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,923 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,923 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,923 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,923 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,924 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,924 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,924 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,924 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,924 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,925 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,925 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,925 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,926 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,926 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,926 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,928 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:14:41,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,929 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:14:41,930 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:14:41,930 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-23e7b436-622f-423e-bdb4-fcd73db4d813
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:14:41,932 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,934 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,935 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:14:41,947 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 344) with member_id aiokafka-0.12.0-08d8825e-e01e-4125-96f6-58422742f058
2025-05-24 02:14:41,947 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 344
2025-05-24 02:14:41,948 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:14:41,956 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:14:41,957 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:14:41,996 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 02:14:47,996 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 02:14:47,998 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:14:48,075 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:14:49,906 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:14:49,907 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:14:49,978 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:14:50,002 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:14:50,042 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:14:50,068 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:16:52,053 - uvicorn.access - INFO - 127.0.0.1:50618 - "GET /api/v1/chat/conversations/tom1_a3233cc9-fd3d-4e56-96c7-f482c2fe7ec3 HTTP/1.1" 200
2025-05-24 02:16:52,228 - uvicorn.access - INFO - 127.0.0.1:50618 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:17:04,797 - uvicorn.access - INFO - 127.0.0.1:49166 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:17:04,801 - app.core.logging - INFO - chat 'tom1_a3233cc9-fd3d-4e56-96c7-f482c2fe7ec3 uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：重点关注图片中的关键信息：文字、图表、表格、数据等

**分析要求**：
1. 仔细分析问题中提到的所有内容，结合图片内容信息进行回答，不要联想
2. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 02:17:04,951 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:17:14,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,928 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,928 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,928 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,929 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,929 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,931 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,932 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,932 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,933 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-23e7b436-622f-423e-bdb4-fcd73db4d813
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:17:14,935 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:17:14,936 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 345) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:17:14,936 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 345
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,938 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,939 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,939 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:14,939 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:17:14,939 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,085 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:17:26,086 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:17:26,086 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:17:26,093 - app.core.logging - INFO - 🔄 Processing image content in messages...
2025-05-24 02:17:26,094 - app.core.logging - INFO - 📥 Processing image URL: tom1_weizhangxiang-106703148-300425-1700-609_683021f8fb12a199474c882b.png...
2025-05-24 02:17:26,153 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,153 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d7.png...
2025-05-24 02:17:26,211 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,211 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d6.png...
2025-05-24 02:17:26,267 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,267 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d8.png...
2025-05-24 02:17:26,304 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,304 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569d7aa10aa5332c73da.png...
2025-05-24 02:17:26,340 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,340 - app.core.logging - INFO - 📥 Processing image URL: tom1_2024年历史类本科批在辽宁招生计划(1)_683056a07aa10aa5332c7427.png...
2025-05-24 02:17:26,376 - app.core.logging - INFO - ✅ URL converted to image_url format
2025-05-24 02:17:26,376 - app.core.logging - INFO - ✅ Image content processing completed
2025-05-24 02:17:26,380 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 02:17:26,585 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:17:26,586 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:17:26,586 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,937 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,938 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,938 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,938 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,939 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,940 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:17:26,941 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,941 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,941 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:17:26,941 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,941 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-174be5d0-e872-4463-8178-76f5062c35c1
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-359099b8-7203-4ae6-bd81-f0eb3a098640
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-60b8cf3b-dcc8-4039-b8af-e7de5c921a1a
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-5b797092-6ac8-40e3-818c-d98dfb913b9f
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-e022f08a-4287-49e1-954c-493cb1d9bb5f
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-d7ffdd21-72b6-40f5-9970-66bce51f1fef
2025-05-24 02:17:26,942 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-deb61bfd-17a1-48fd-aa76-471efa6dbfaf
2025-05-24 02:17:26,943 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-23e7b436-622f-423e-bdb4-fcd73db4d813
2025-05-24 02:17:26,943 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-8fd2e775-1a74-4eae-8cfa-aecf20ac7f64
2025-05-24 02:17:26,943 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 346) with member_id aiokafka-0.12.0-bea2b4c7-0e41-4114-816b-9ec4666d6e35
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,944 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 346
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:26,945 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:17:31,705 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 02:17:31,707 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:17:31,779 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:18:02,390 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:18:02,391 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:18:02,493 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:18:02,502 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:18:02,570 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:18:02,592 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:20:17,239 - gunicorn.error - INFO - Handling signal: winch
2025-05-24 02:20:18,741 - gunicorn.error - INFO - Handling signal: winch
2025-05-24 02:25:15,921 - gunicorn.error - INFO - Handling signal: int
2025-05-24 02:25:15,935 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,937 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,940 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,941 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,942 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,944 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,965 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,966 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,968 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,969 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,982 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,983 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,982 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,984 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:15,984 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:15,985 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:16,015 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:16,016 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:16,018 - uvicorn.error - INFO - Shutting down
2025-05-24 02:25:16,020 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:25:16,038 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,041 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,045 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,045 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,046 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,046 - uvicorn.error - INFO - Finished server process [348112]
2025-05-24 02:25:16,048 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,048 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,049 - uvicorn.error - INFO - Finished server process [348108]
2025-05-24 02:25:16,056 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,057 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,057 - uvicorn.error - INFO - Finished server process [348097]
2025-05-24 02:25:16,067 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,069 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,076 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,076 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,076 - uvicorn.error - INFO - Finished server process [348094]
2025-05-24 02:25:16,079 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,079 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,080 - uvicorn.error - INFO - Finished server process [348098]
2025-05-24 02:25:16,084 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,085 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,086 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,090 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,091 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,091 - uvicorn.error - INFO - Finished server process [348095]
2025-05-24 02:25:16,094 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,095 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,095 - uvicorn.error - INFO - Finished server process [348111]
2025-05-24 02:25:16,097 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,098 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,098 - uvicorn.error - INFO - Finished server process [348110]
2025-05-24 02:25:16,099 - gunicorn.error - ERROR - Worker (pid:348108) was sent SIGINT!
2025-05-24 02:25:16,115 - gunicorn.error - ERROR - Worker (pid:348097) was sent SIGINT!
2025-05-24 02:25:16,116 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,121 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:25:16,123 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,123 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,124 - uvicorn.error - INFO - Finished server process [348096]
2025-05-24 02:25:16,124 - gunicorn.error - ERROR - Worker (pid:348094) was sent SIGINT!
2025-05-24 02:25:16,133 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:25:16,134 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:25:16,134 - uvicorn.error - INFO - Finished server process [348109]
2025-05-24 02:25:16,143 - gunicorn.error - ERROR - Worker (pid:348095) was sent SIGINT!
2025-05-24 02:25:16,148 - gunicorn.error - ERROR - Worker (pid:348110) was sent SIGINT!
2025-05-24 02:25:16,156 - gunicorn.error - ERROR - Worker (pid:348112) was sent SIGINT!
2025-05-24 02:25:16,164 - gunicorn.error - ERROR - Worker (pid:348096) was sent SIGINT!
2025-05-24 02:25:16,174 - gunicorn.error - ERROR - Worker (pid:348098) was sent SIGINT!
2025-05-24 02:25:16,174 - gunicorn.error - ERROR - Worker (pid:348109) was sent SIGINT!
2025-05-24 02:25:16,181 - gunicorn.error - ERROR - Worker (pid:348111) was sent SIGINT!
2025-05-24 02:25:16,222 - gunicorn.error - INFO - Shutting down: Master
2025-05-24 02:37:29,059 - gunicorn.error - INFO - Starting gunicorn 23.0.0
2025-05-24 02:37:29,060 - gunicorn.error - INFO - Listening at: http://0.0.0.0:8000 (378865)
2025-05-24 02:37:29,060 - gunicorn.error - INFO - Using worker: uvicorn.workers.UvicornWorker
2025-05-24 02:37:29,063 - gunicorn.error - INFO - Booting worker with pid: 378867
2025-05-24 02:37:29,134 - gunicorn.error - INFO - Booting worker with pid: 378868
2025-05-24 02:37:29,196 - gunicorn.error - INFO - Booting worker with pid: 378869
2025-05-24 02:37:29,257 - gunicorn.error - INFO - Booting worker with pid: 378870
2025-05-24 02:37:29,280 - gunicorn.error - INFO - Booting worker with pid: 378871
2025-05-24 02:37:29,343 - gunicorn.error - INFO - Booting worker with pid: 378872
2025-05-24 02:37:29,365 - gunicorn.error - INFO - Booting worker with pid: 378882
2025-05-24 02:37:29,410 - gunicorn.error - INFO - Booting worker with pid: 378883
2025-05-24 02:37:29,437 - gunicorn.error - INFO - Booting worker with pid: 378884
2025-05-24 02:37:29,539 - gunicorn.error - INFO - Booting worker with pid: 378885
2025-05-24 02:37:31,822 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:31,877 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:31,950 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:31,967 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:31,998 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,115 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,165 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,172 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,197 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,255 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-05-24 02:37:32,546 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,631 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,678 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:32,678 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:32,693 - uvicorn.error - INFO - Started server process [378868]
2025-05-24 02:37:32,694 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:32,701 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,702 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,726 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,731 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:32,806 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:32,806 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:32,822 - uvicorn.error - INFO - Started server process [378867]
2025-05-24 02:37:32,822 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:32,841 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:32,841 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:32,856 - uvicorn.error - INFO - Started server process [378870]
2025-05-24 02:37:32,857 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:32,858 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:32,860 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:32,861 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:32,861 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:32,861 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:32,862 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:32,864 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,869 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:32,869 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:32,872 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:32,873 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:32,873 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:32,877 - uvicorn.error - INFO - Started server process [378871]
2025-05-24 02:37:32,877 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:32,885 - uvicorn.error - INFO - Started server process [378869]
2025-05-24 02:37:32,885 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:32,894 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:32,903 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,912 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:32,919 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,920 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:32,935 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:32,974 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:32,976 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:32,976 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:32,984 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:32,984 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:32,984 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:32,994 - app.core.logging - INFO - FastAPI Framework initialized
2025-05-24 02:37:33,036 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,037 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,038 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,038 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,038 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,038 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,041 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:33,042 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,044 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,050 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:33,050 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:33,058 - uvicorn.error - INFO - Started server process [378872]
2025-05-24 02:37:33,058 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:33,062 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,064 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,064 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,065 - uvicorn.error - INFO - Started server process [378882]
2025-05-24 02:37:33,066 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:33,070 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,070 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,070 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,081 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:33,082 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:33,085 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:33,085 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:33,094 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:33,097 - uvicorn.error - INFO - Started server process [378883]
2025-05-24 02:37:33,098 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:33,100 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:33,100 - uvicorn.error - INFO - Started server process [378884]
2025-05-24 02:37:33,101 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:33,124 - app.core.logging - INFO - Router with prefix /api/v1 included
2025-05-24 02:37:33,124 - app.core.logging - INFO - FastAPI app started with settings: api_version_url='/api/v1' max_workers=10 log_level='INFO' log_file='layra.log' db_url='mysql+asyncmy://mysqluser:mysql577715@localhost/imagedb' db_pool_size=10 db_max_overflow=20 redis_url='localhost:6379' redis_password='redis577715' redis_token_db=0 redis_task_db=1 redis_lock_db=2 secret_key='TestCodeForLLMProject' algorithm='HS256' access_token_expire_minutes=36000 mongodb_url='localhost:27017' mongodb_db='mongodb' mongodb_root_username='mongouser' mongodb_root_password='mongo577715' mongodb_pool_size=100 mongodb_min_pool_size=10 debug_mode=True kafka_broker_url='localhost:9094' kafka_topic='task_generation' kafka_group_id='task_consumer_group' minio_url='http://127.0.0.1:9110' minio_access_key='miniouser' minio_secret_key='minio577715' minio_bucket_name='ai-chat' milvus_uri='http://127.0.0.1:19530' colbert_model_path='/home/administrator/KnowFlowVisualRAG/colqwen2.5-v0.2'
2025-05-24 02:37:33,132 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:33,136 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:33,139 - uvicorn.error - INFO - Started server process [378885]
2025-05-24 02:37:33,139 - uvicorn.error - INFO - Waiting for application startup.
2025-05-24 02:37:33,176 - app.core.logging - INFO - MongoDB 索引创建完成
2025-05-24 02:37:33,208 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,209 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,210 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,211 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,213 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,213 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,218 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,218 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,218 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,222 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,222 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,222 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,248 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,251 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,251 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,252 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,252 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,253 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,258 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:33,292 - app.core.logging - INFO - Bucket 'ai-chat' already exists.
2025-05-24 02:37:33,293 - aiokafka.consumer.subscription_state - INFO - Updating subscribed topics to: frozenset({'task_generation'})
2025-05-24 02:37:33,293 - uvicorn.error - INFO - Application startup complete.
2025-05-24 02:37:33,299 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:37:33,299 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions set() for group task_consumer_group
2025-05-24 02:37:33,299 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-5db85706-3597-424f-a246-122fc4332402
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-46410d69-fac5-429b-8058-6d03406e971a
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-4e14345f-eed8-443b-bddf-c460276c1922
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-65ada955-7a9c-4a1d-aa0a-5778c4adfd41
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-99d76d0e-9033-491d-8971-0cc4064960d0
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-0c38d884-4106-4992-a9db-ad0e5a16e573
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-ab3efd68-dff8-4c2a-b586-ab8a2fdd963b
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-33cc66ee-f69c-494e-bb54-c8332081949f
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-95859aea-5d96-4f22-aadb-6b780a107179
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 348) with member_id aiokafka-0.12.0-8e906feb-5a1c-4c88-97d3-8f7c8c274278
2025-05-24 02:37:35,875 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 348
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,878 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:35,879 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:37:51,958 - uvicorn.access - INFO - 127.0.0.1:53636 - "POST /api/v1/chat/conversations HTTP/1.1" 200
2025-05-24 02:37:52,076 - uvicorn.access - INFO - 127.0.0.1:53636 - "GET /api/v1/chat/users/tom1/conversations HTTP/1.1" 200
2025-05-24 02:37:52,215 - uvicorn.access - INFO - 127.0.0.1:53644 - "POST /api/v1/chat/conversations/config HTTP/1.1" 200
2025-05-24 02:37:52,335 - uvicorn.access - INFO - 127.0.0.1:53644 - "POST /api/v1/sse/chat HTTP/1.1" 200
2025-05-24 02:37:52,337 - app.core.logging - INFO - chat 'tom1_4bb2ffd4-9f30-455f-820e-a33e4cba8cca uses system prompt 你是一个多模态AI助手，可以同时处理文本和图片信息。当用户提问时：重点关注图片中的关键信息：文字、图表、表格、数据等
**分析要求**：
1. 仔细分析问题中提到的所有内容，结合图片内容信息进行回答，不要联想
2. 当不确定时，明确表示无法确定，并说明需要哪些额外信息

需要保留公式'
2025-05-24 02:37:52,476 - httpx - INFO - HTTP Request: POST http://localhost:8005/embed_text "HTTP/1.1 200 OK"
2025-05-24 02:38:02,877 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,878 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,878 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,879 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,879 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,879 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,880 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,881 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:02,882 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-65ada955-7a9c-4a1d-aa0a-5778c4adfd41
2025-05-24 02:38:02,882 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-99d76d0e-9033-491d-8971-0cc4064960d0
2025-05-24 02:38:02,882 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-4e14345f-eed8-443b-bddf-c460276c1922
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-5db85706-3597-424f-a246-122fc4332402
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-8e906feb-5a1c-4c88-97d3-8f7c8c274278
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-0c38d884-4106-4992-a9db-ad0e5a16e573
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-ab3efd68-dff8-4c2a-b586-ab8a2fdd963b
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-33cc66ee-f69c-494e-bb54-c8332081949f
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 349) with member_id aiokafka-0.12.0-95859aea-5d96-4f22-aadb-6b780a107179
2025-05-24 02:38:02,883 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,885 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 349
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:02,886 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:38:13,526 - uvicorn.access - INFO - 127.0.0.1:47928 - "GET / HTTP/1.1" 404
2025-05-24 02:38:13,880 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed: local member_id was not recognized; resetting and re-joining group
2025-05-24 02:38:13,880 - aiokafka.consumer.group_coordinator - ERROR - Heartbeat session expired - marking coordinator dead
2025-05-24 02:38:13,881 - aiokafka.consumer.group_coordinator - WARNING - Marking the coordinator dead (node 0)for group task_consumer_group.
2025-05-24 02:38:13,883 - aiokafka.consumer.group_coordinator - INFO - Discovered coordinator 0 for group task_consumer_group
2025-05-24 02:38:13,883 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:13,883 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:13,947 - app.core.logging - INFO - Get minio object: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d7.png
2025-05-24 02:38:14,416 - app.core.logging - INFO - Get minio object: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73cb.png
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset({TopicPartition(topic='task_generation', partition=0)}) for group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,887 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - WARNING - Heartbeat failed for group task_consumer_group because it is rebalancing
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - Revoking previously assigned partitions frozenset() for group task_consumer_group
2025-05-24 02:38:14,888 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,889 - aiokafka.consumer.group_coordinator - INFO - (Re-)joining group task_consumer_group
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-65ada955-7a9c-4a1d-aa0a-5778c4adfd41
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-5db85706-3597-424f-a246-122fc4332402
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-99d76d0e-9033-491d-8971-0cc4064960d0
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-ab3efd68-dff8-4c2a-b586-ab8a2fdd963b
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-4e14345f-eed8-443b-bddf-c460276c1922
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-8e906feb-5a1c-4c88-97d3-8f7c8c274278
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-0c38d884-4106-4992-a9db-ad0e5a16e573
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-33cc66ee-f69c-494e-bb54-c8332081949f
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-95859aea-5d96-4f22-aadb-6b780a107179
2025-05-24 02:38:14,890 - aiokafka.consumer.group_coordinator - INFO - Elected group leader -- performing partition assignments using roundrobin
2025-05-24 02:38:14,892 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,892 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,892 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions {TopicPartition(topic='task_generation', partition=0)} for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,893 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,988 - aiokafka.consumer.group_coordinator - INFO - Joined group 'task_consumer_group' (generation 350) with member_id aiokafka-0.12.0-a8de774f-0293-4486-ac14-25afa48cf52d
2025-05-24 02:38:14,989 - aiokafka.consumer.group_coordinator - INFO - Successfully synced group task_consumer_group with generation 350
2025-05-24 02:38:14,989 - aiokafka.consumer.group_coordinator - INFO - Setting newly assigned partitions set() for group task_consumer_group
2025-05-24 02:38:14,992 - app.core.logging - INFO - Get minio object: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d8.png
2025-05-24 02:38:15,406 - app.core.logging - INFO - Get minio object: tom1_2024年历史类本科批在辽宁招生计划(1)_6830569c7aa10aa5332c73d9.png
2025-05-24 02:38:15,809 - app.core.logging - INFO - Get minio object: tom1_2024年历史类本科批在辽宁招生计划(1)_683056a07aa10aa5332c7427.png
2025-05-24 02:38:16,242 - LiteLLM - INFO - 
LiteLLM completion() model= qwen2.5vl:32b; provider = ollama
2025-05-24 02:38:21,025 - uvicorn.error - WARNING - Invalid HTTP request received.
2025-05-24 02:38:27,895 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-05-24 02:38:27,897 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:38:27,972 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:38:34,435 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:38:34,436 - LiteLLM - INFO - selected model name for cost calculation: ollama/qwen2.5vl:32b
2025-05-24 02:38:34,535 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:38:34,542 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:38:34,610 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:38:34,626 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/show "HTTP/1.1 200 OK"
2025-05-24 02:42:45,892 - gunicorn.error - INFO - Handling signal: int
2025-05-24 02:42:45,894 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,894 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,900 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,900 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,934 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,934 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,961 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,961 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,976 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,976 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,976 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,976 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,979 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,979 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,981 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,981 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,981 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,981 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,982 - uvicorn.error - INFO - Shutting down
2025-05-24 02:42:45,982 - gunicorn.error - INFO - Error while closing socket [Errno 9] Bad file descriptor
2025-05-24 02:42:45,995 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:45,999 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:45,999 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:45,999 - uvicorn.error - INFO - Finished server process [378870]
2025-05-24 02:42:46,001 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,005 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,005 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,005 - uvicorn.error - INFO - Finished server process [378872]
2025-05-24 02:42:46,035 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,039 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,039 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,039 - uvicorn.error - INFO - Finished server process [378869]
2025-05-24 02:42:46,047 - gunicorn.error - ERROR - Worker (pid:378870) was sent SIGINT!
2025-05-24 02:42:46,050 - gunicorn.error - ERROR - Worker (pid:378872) was sent SIGINT!
2025-05-24 02:42:46,062 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,068 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,068 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,069 - uvicorn.error - INFO - Finished server process [378885]
2025-05-24 02:42:46,077 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,077 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,080 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,081 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,081 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,081 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,081 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,081 - gunicorn.error - ERROR - Worker (pid:378869) was sent SIGINT!
2025-05-24 02:42:46,081 - uvicorn.error - INFO - Finished server process [378867]
2025-05-24 02:42:46,081 - uvicorn.error - INFO - Finished server process [378871]
2025-05-24 02:42:46,082 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,083 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,083 - uvicorn.error - INFO - Waiting for application shutdown.
2025-05-24 02:42:46,085 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,085 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,086 - uvicorn.error - INFO - Finished server process [378884]
2025-05-24 02:42:46,087 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,087 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,087 - uvicorn.error - INFO - Finished server process [378882]
2025-05-24 02:42:46,088 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,088 - app.core.logging - INFO - FastAPI Closed
2025-05-24 02:42:46,088 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,089 - uvicorn.error - INFO - Finished server process [378868]
2025-05-24 02:42:46,088 - uvicorn.error - INFO - Application shutdown complete.
2025-05-24 02:42:46,089 - uvicorn.error - INFO - Finished server process [378883]
2025-05-24 02:42:46,131 - gunicorn.error - ERROR - Worker (pid:378867) was sent SIGINT!
2025-05-24 02:42:46,138 - gunicorn.error - ERROR - Worker (pid:378884) was sent SIGINT!
2025-05-24 02:42:46,139 - gunicorn.error - ERROR - Worker (pid:378882) was sent SIGINT!
2025-05-24 02:42:46,141 - gunicorn.error - ERROR - Worker (pid:378871) was sent SIGINT!
2025-05-24 02:42:46,141 - gunicorn.error - ERROR - Worker (pid:378868) was sent SIGINT!
2025-05-24 02:42:46,143 - gunicorn.error - ERROR - Worker (pid:378883) was sent SIGINT!
2025-05-24 02:42:46,168 - gunicorn.error - ERROR - Worker (pid:378885) was sent SIGINT!
2025-05-24 02:42:46,193 - gunicorn.error - INFO - Shutting down: Master
